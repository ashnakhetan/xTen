
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Welcome to xTen! xTen makes it easy to incorporate AI tools into your extensions â€” try it out today!">
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.15">
    
    
      
        <title>Utility Functions Documentation - xTen documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.26e3688c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#utility-functions-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="xTen documentation" class="md-header__button md-logo" aria-label="xTen documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            xTen documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Utility Functions Documentation
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="xTen documentation" class="md-nav__button md-logo" aria-label="xTen documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    xTen documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../problem/" class="md-nav__link">
        Problem description and design criteria
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../outline/" class="md-nav__link">
        Software outline
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Functions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Functions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/summarizer/" class="md-nav__link">
        Summarize
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/recommender/" class="md-nav__link">
        Recommender
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
      
      
      
        <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
          OpenAI Plugin
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          OpenAI Plugin
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/openAiPlugins/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/openAiPlugins/plugin_builder/" class="md-nav__link">
        Plugin Builder
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/chatbot/" class="md-nav__link">
        Chatbot
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#scrapepagetabs-contenttypes" class="md-nav__link">
    scrapePage(tabs, contentTypes)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#detecthighlightedtexttextarea" class="md-nav__link">
    detectHighlightedText(textarea)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#displaytexttext-x-y" class="md-nav__link">
    displayText(text, x, y)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#displayloadingx-y" class="md-nav__link">
    displayLoading(x, y)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hidetooltip" class="md-nav__link">
    hideTooltip()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#collectbrowsinghistoryday" class="md-nav__link">
    collectBrowsingHistoryDay()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#collectbrowsinghistoryweek" class="md-nav__link">
    collectBrowsingHistoryWeek()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#collectbrowsinghistorymonth" class="md-nav__link">
    collectBrowsingHistoryMonth()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#collectbrowsinghistoryyear" class="md-nav__link">
    collectBrowsingHistoryYear()
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="utility-functions-documentation">Utility Functions Documentation</h1>
<p>This documentation provides an overview of the utility functions included in the provided code.</p>
<h2 id="scrapepagetabs-contenttypes">scrapePage(tabs, contentTypes)</h2>
<p>This function scrapes a web page and extracts specific elements based on the provided <code>contentTypes</code>.</p>
<ul>
<li><code>tabs</code>: An array of tabs representing the current browsing session.</li>
<li><code>contentTypes</code>: A string selector for the types of elements to be extracted.</li>
</ul>
<p>The function retrieves the HTML content of the current tab's URL, parses it using the DOMParser, and searches for elements that match the given <code>contentTypes</code>. It looks for elements with either a <code>title</code> attribute or an <code>alt</code> attribute and stores them in an array. If no such elements are found, it selects the first element from the matched elements. The function logs the text content or source URL of the selected element and returns it.</p>
<h2 id="detecthighlightedtexttextarea">detectHighlightedText(textarea)</h2>
<p>This function detects the highlighted text within a textarea element.</p>
<ul>
<li><code>textarea</code>: The textarea element from which to extract the highlighted text.</li>
</ul>
<p>The function retrieves the selected text from the <code>textarea</code> by using the <code>selectionStart</code> and <code>selectionEnd</code> properties of its value. It returns the selected text.</p>
<h2 id="displaytexttext-x-y">displayText(text, x, y)</h2>
<p>This function displays a tooltip or modal with the given text.</p>
<ul>
<li><code>text</code>: The text to be displayed in the tooltip.</li>
<li><code>x</code> (optional): The X-coordinate position of the tooltip. If not provided, it defaults to the center of the page.</li>
<li><code>y</code> (optional): The Y-coordinate position of the tooltip. If not provided, it defaults to the center of the page.</li>
</ul>
<p>The function creates a tooltip element, sets its position, styling, and content based on the input parameters, and appends it to the document body. It also adds an event listener to remove the tooltip when clicking anywhere on the document.</p>
<h2 id="displayloadingx-y">displayLoading(x, y)</h2>
<p>This function displays a loading indicator.</p>
<ul>
<li><code>x</code> (optional): The X-coordinate position of the loading indicator. If not provided, it defaults to the center of the page.</li>
<li><code>y</code> (optional): The Y-coordinate position of the loading indicator. If not provided, it defaults to the center of the page.</li>
</ul>
<p>The function creates a loading indicator element, sets its position, styling, and content, and appends it to the document body. It removes any existing loading indicators before displaying a new one.</p>
<h2 id="hidetooltip">hideTooltip()</h2>
<p>This function hides or removes the currently displayed tooltip or loading indicator.</p>
<p>The function selects the tooltip and loading indicator elements using CSS class selectors and removes them from the document if found.</p>
<h2 id="collectbrowsinghistoryday">collectBrowsingHistoryDay()</h2>
<p>This function collects the browsing history for the past 24 hours.</p>
<p>The function uses the <code>chrome.history.search</code> API to search for history items within the specified time range. It returns a Promise that resolves to an array of history objects.</p>
<h2 id="collectbrowsinghistoryweek">collectBrowsingHistoryWeek()</h2>
<p>This function collects the browsing history for the past week.</p>
<p>The function uses the <code>chrome.history.search</code> API to search for history items within the specified time range. It returns a Promise that resolves to an array of history objects.</p>
<h2 id="collectbrowsinghistorymonth">collectBrowsingHistoryMonth()</h2>
<p>This function collects the browsing history for the past month.</p>
<p>The function uses the <code>chrome.history.search</code> API to search for history items within the specified time range. It returns a Promise that resolves to an array of history objects.</p>
<h2 id="collectbrowsinghistoryyear">collectBrowsingHistoryYear()</h2>
<p>This function collects the browsing history for the past year.</p>
<p>The function uses the <code>chrome.history.search</code> API to search for history items within the specified time range. It returns a Promise that resolves to an array of history objects.</p>
<p>Note: The <code>collectBrowsingHistoryDay()</code>, <code>collectBrowsingHistoryWeek()</code>, <code>collectBrowsingHistoryMonth()</code>, and <code>collectBrowsingHistoryYear()</code> functions are specific to the Google Chrome browser extension environment and rely on the <code>chrome.history.search</code> API.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  </body>
</html>